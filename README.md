# README.md

## AUTHOR: RUTWIK SARAF

### INTRODUCTION

THIS PROJECT IS A PYTHON APPLICATION DESIGNED TO REDACT SENSITIVE INFORMATION (SUCH AS NAMES, DATES, ADDRESSES, PHONE NUMBERS, AND CONCEPTUAL TERMS) FROM TEXT FILES. USING VARIOUS NLP TECHNIQUES VIA THE SPACY LIBRARY, THE APPLICATION IDENTIFIES SPECIFIC ENTITY TYPES WITHIN TEXT AND OBFUSCATES THEM ACCORDINGLY.

### FUNCTION OVERVIEW

1. **READINGINPUT(FILE_TYPE)**: LOADS TEXT FILES BASED ON THE PROVIDED FILE TYPE/PATTERN (E.G., `'*.TXT'`) AND READS CONTENTS INTO A DICTIONARY, WITH THE FILE NAME AS THE KEY AND CONTENT AS THE VALUE.

2. **REDACT_NAMES(TEXT, DOC, STATS)**: IDENTIFIES AND REDACTS NAMES IN THE TEXT BASED ON NAMED ENTITY RECOGNITION (NER) TAGS. REPLACES DETECTED NAMES WITH BLOCK CHARACTERS ("█") AND UPDATES STATS WITH THE NUMBER OF NAMES REDACTED.

3. **REDACT_DATES(TEXT, DOC, STATS)**: USES SPACY'S PATTERN MATCHING TO IDENTIFY AND REDACT DATES IN MULTIPLE FORMATS (E.G., "JANUARY 1, 2024," "01/01/2024"). IT SUBSTITUTES MATCHED DATES WITH BLOCK CHARACTERS AND UPDATES THE STATS.

4. **REDACT_ADDRESSES(TEXT, DOC, STATS)**: DETECTS AND REDACTS ADDRESSES (GPE, LOC, FAC TAGS) IN THE TEXT BY SUBSTITUTING RELEVANT CHARACTERS WITH BLOCK CHARACTERS, TRACKING THE REDACTED ADDRESS COUNT IN STATS.

5. **REDACT_PHONENUMBERS(TEXT, STATS)**: USES REGEX TO IDENTIFY AND REDACT PHONE NUMBERS IN VARIOUS FORMATS (E.G., "123-456-7890"). SUBSTITUTES MATCHED NUMBERS WITH BLOCK CHARACTERS AND UPDATES THE PHONE STATISTICS.

6. **REDACT_CONCEPTS(TEXT, DOC, CONCEPTS, STATS)**: USES SPACY'S PHRASE MATCHER TO IDENTIFY AND REDACT SENTENCES CONTAINING SPECIFIED CONCEPTS. UPDATES STATS WITH DETAILS OF EACH MATCHED CONCEPTUAL TERM.

7. **CONDITIONAL_REDACT(CONTENT, FLAGS, STATS, CONCEPTS)**: HANDLES REDACTION BASED ON SPECIFIED FLAGS. APPLIES RELEVANT REDACTION FUNCTIONS (NAMES, DATES, ADDRESSES, PHONES, CONCEPTS) BASED ON THE USER’S CHOSEN FLAGS AND CONCEPTS LIST, THEN RETURNS THE FULLY REDACTED TEXT.

8. **SAVE_REDACTED(FILE_NAME, CONTENT, OUTPUT_DIR)**: SAVES THE REDACTED TEXT FILE TO A SPECIFIED OUTPUT DIRECTORY, APPENDING `.CENSORED` TO THE ORIGINAL FILE NAME.

9. **WRITE_STATS(FILE_NAME, STATS, OUTPUT)**: WRITES A DETAILED STATISTICAL SUMMARY OF THE REDACTIONS PERFORMED TO A SPECIFIED OUTPUT (FILE, `STDOUT`, OR `STDERR`). THIS SUMMARY INCLUDES THE NUMBER OF REDACTIONS FOR EACH ENTITY TYPE AND LISTS THE TEXTUAL SEGMENTS THAT WERE REDACTED.

10. **MAIN()**: HANDLES ARGUMENT PARSING AND INITIAL SETUP. PARSES USER INPUT TO DETERMINE WHICH ENTITY TYPES TO REDACT, LOADS ALL TEXT FILES MATCHING THE PROVIDED PATTERN, APPLIES CONDITIONAL REDACTION BASED ON SPECIFIED FLAGS, SAVES THE REDACTED OUTPUT, AND WRITES REDACTION STATISTICS.

### APPROACH

THE PRIMARY OBJECTIVE WAS TO CREATE A PROGRAM THAT CAN RELIABLY IDENTIFY AND REDACT MULTIPLE TYPES OF SENSITIVE INFORMATION. USING SPACY FOR NATURAL LANGUAGE PROCESSING (NLP), THE PROGRAM LEVERAGES BOTH PATTERN-BASED MATCHING (FOR DATES AND CONCEPTS) AND NAMED ENTITY RECOGNITION (FOR NAMES, ADDRESSES). EACH FUNCTION TARGETS SPECIFIC REDACTION REQUIREMENTS AND COMBINES REGEX AND NLP TECHNIQUES TO HANDLE MULTIPLE FORMATS AND ENTITY TYPES.

#### WHITESPACE REDACTION DISCUSSION

THE APPLICATION CENSORS BOTH WORDS AND THE WHITESPACE BETWEEN PHRASES TO ENSURE SENSITIVE TERMS ARE FULLY OBFUSCATED. FOR CONCEPTS LIKE NAMES, REDACTING WHITESPACE (E.G., BETWEEN A FIRST AND LAST NAME) INCREASES PRIVACY BY REDUCING THE CHANCE OF RECONSTRUCTING THE ORIGINAL TEXT THROUGH REMAINING STRUCTURE.

#### PARAMETERS FOR FLAGS

EACH REDACTION TYPE HAS A CORRESPONDING FLAG TO SPECIFY WHICH ENTITY TYPE(S) SHOULD BE CENSORED. PARAMETERS INCLUDE:
- **--NAMES**: REDACTS DETECTED NAMES.
- **--DATES**: REDACTS DATES IN STANDARD FORMATS.
- **--ADDRESSES**: REDACTS LOCATIONAL INFORMATION.
- **--PHONES**: REDACTS PHONE NUMBERS IN TYPICAL U.S. FORMATS.
- **--CONCEPT [WORD/PHRASE]**: REDACTS SENTENCES CONTAINING THE SPECIFIED WORD OR PHRASE, ALONG WITH RELATED TERMS. CUSTOM TERMS CAN BE ADDED TO THE CONCEPT LIST TO EXPAND DETECTION SCOPE.

#### CONCEPT DEFINITION AND JUSTIFICATION

FOR THIS PROJECT, A **CONCEPT** IS DEFINED AS ANY IDEA OR THEME REPRESENTED BY KEYWORDS OR PHRASES RELATED TO IT. FOR EXAMPLE, THE CONCEPT "PRISON" INCLUDES RELATED TERMS LIKE "JAIL" OR "INCARCERATED." WHEN A SENTENCE CONTAINS A SPECIFIED CONCEPT, THE ENTIRE SENTENCE IS REDACTED TO MAINTAIN CONTEXT AND PROTECT SENSITIVE THEMES.

- **CONTEXT CREATION**: THE PROGRAM USES SPACY’S PHRASE MATCHER TO IDENTIFY KEY PHRASES LINKED TO EACH CONCEPT, SEARCHING FOR SEMANTIC LINKS TO THE MAIN IDEA. THIS APPROACH ENSURES CONSISTENCY IN REDACTION BY ADDRESSING NUANCED WORD USAGE THAT MAY IMPLY SENSITIVE CONTENT.

- **JUSTIFICATION**: REDACTING WHOLE SENTENCES WITH CONCEPT-RELATED TERMS ENSURES THAT SENSITIVE TOPICS ARE FULLY OBSCURED, REDUCING THE RISK OF INADVERTENT INFORMATION EXPOSURE.



### REQUIRED INSTALLATION COMMANDS

- INSTALL SPACY: `PIP INSTALL SPACY`
- INSTALL THE SPACY MODEL: `PYTHON -M SPACY DOWNLOAD EN_CORE_WEB_MD`

### HOW TO RUN THE CODE

TO EXECUTE THE PROGRAM AND REDACT SENSITIVE INFORMATION, RUN THE FOLLOWING COMMAND:

PYTHON MAIN.PY --INPUT "*.TXT" --NAMES --DATES --ADDRESSES --PHONES --CONCEPT "CONFIDENTIAL" --OUTPUT "./CENSORED_FILES" --STATS "STDOUT"

### TEST CASE EXPLANATIONS

#### ADDRESS TEST CASE
THE `TEST_REDACT_ADDRESSES()` FUNCTION TESTS THE FUNCTIONALITY OF `REDACT_ADDRESSES()` TO VERIFY IT CORRECTLY IDENTIFIES AND REDACTS LOCATIONAL INFORMATION. 
- **INPUT**: "I LIVE IN NEW YORK."
- **EXPECTED OUTPUT**: "I LIVE IN ████████."
- **TEST CHECKS**: THE FUNCTION CHECKS THAT THE ADDRESS ENTITY 'NEW YORK' IS REPLACED WITH BLOCK CHARACTERS AND THAT THE ADDRESS COUNT IN `STATS` IS UPDATED TO 1. IT ALSO ENSURES THAT 'NEW YORK' IS LOGGED CORRECTLY AS A "GPE" ENTITY IN `STATS`.

#### CONCEPT TEST CASE
THE `TEST_REDACT_CONCEPTS()` FUNCTION EXAMINES THE ABILITY OF `REDACT_CONCEPTS()` TO IDENTIFY AND REDACT CONCEPTUAL TERMS FROM TEXT.
- **INPUT**: "ARTIFICIAL INTELLIGENCE IS EVOLVING RAPIDLY."
- **EXPECTED OUTPUT**: "████████████████████████████████████████████"
- **TEST CHECKS**: THE FUNCTION VERIFIES THAT THE TERM "ARTIFICIAL INTELLIGENCE" IS COMPLETELY REDACTED AND THE ENTITY COUNT FOR CONCEPTS IS UPDATED ACCURATELY IN `STATS`. IT ALSO CONFIRMS THAT "ARTIFICIAL INTELLIGENCE" IS STORED WITH THE ENTITY TYPE "CONCEPT".

#### DATE TEST CASE
THE `TEST_REDACT_DATES()` FUNCTION TESTS `REDACT_DATES()` FOR ACCURATE REDACTION OF DATE FORMATS.
- **INPUT**: "THE EVENT IS SCHEDULED ON 5TH OCTOBER 2023."
- **EXPECTED OUTPUT**: "THE EVENT IS SCHEDULED ON ████████████████."
- **TEST CHECKS**: IT CHECKS THAT THE DATE "5TH OCTOBER 2023" IS SUCCESSFULLY REPLACED WITH BLOCK CHARACTERS. IT ALSO CONFIRMS THAT THE DATE COUNT IN `STATS` IS UPDATED TO 1 AND THE ENTITY LOG INCLUDES THE TERM AS "DATE".

#### NAME TEST CASE
THE `TEST_REDACT_NAMES()` FUNCTION VALIDATES THAT `REDACT_NAMES()` PROPERLY IDENTIFIES AND REDACTS PERSON NAMES IN TEXT.
- **INPUT**: "JOHN WENT TO THE STORE."
- **EXPECTED OUTPUT**: "████ WENT TO THE STORE."
- **TEST CHECKS**: THE FUNCTION ENSURES THAT THE NAME "JOHN" IS REPLACED WITH BLOCK CHARACTERS. IT CHECKS THAT `STATS['NAMES']` IS INCREMENTED BY 1 AND THE NAME ENTITY IS RECORDED AS "PERSON" IN `STATS`.

### PHONE TEST CASE
THE `TEST_REDACT_PHONES()` FUNCTION TESTS THE `REDACT_PHONENUMBERS()` FUNCTION TO DETERMINE WHETHER PHONE NUMBERS ARE IDENTIFIED AND REDACTED CORRECTLY.
- **INPUT**: "MY PHONE NUMBER IS 123-456-7890."
- **EXPECTED OUTPUT**: "MY PHONE NUMBER IS ████████████."
- **TEST CHECKS**: THE FUNCTION CONFIRMS THAT THE PHONE NUMBER "123-456-7890" IS FULLY REDACTED. IT ALSO CHECKS THAT `STATS['PHONES']` IS INCREMENTED TO 1 AND THAT THE ENTITY IS LOGGED AS "PHONE" WITH ITS POSITION AND ENTITY TYPE IN `STATS`.

### ASSUMPTIONS

1. INPUT FILES FOLLOW CONSISTENT FORMATTING TO MAINTAIN STRUCTURE AFTER REDACTION.
2. REDACTION IS BASED SOLELY ON ENTITY DETECTION FROM THE SPACY MODEL (EN_CORE_WEB_MD).
3. PHONE NUMBERS FOLLOW TYPICAL U.S. FORMATS (E.G., "123-456-7890").
4. DATES USE COMMON ENGLISH-LANGUAGE DATE FORMATS.

### KNOWN BUGS AND ISSUES
1. IF FILE FORMATS VARY WIDELY OR INCLUDE UNEXPECTED ENTITY TYPES, REDACTION MAY NOT BE FULLY ACCURATE.
2. TEXT FORMATTING MAY BE DISRUPTED IN THE FINAL OUTPUT, ESPECIALLY WHEN MULTIPLE ENTITY TYPES ARE REDACTED CLOSE TOGETHER.
3. MATCHING CONCEPTUAL TERMS IS CASE-SENSITIVE AND DEPENDENT ON THE ACCURACY OF PHRASE MATCHING.


